<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Practice</title>
    <%= csrf_meta_tags %>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    <%= javascript_pack_tag 'application' %>
  </head>
  <body>
    <header class='p-3 bg-light text-dark'>
      <div class='d-flex justify-content-between pt-1'>
        <h3 class='mt-1 font-weight-bold'><%= link_to 'Mindful Practice.', '/' %></h3>
        <nav class='nav'>
          <% if logged_in? %>
            <%= link_to 'books', '/', class: 'nav-link' %>
            <%= link_to 'settings', '#', class: 'nav-link' %>
            <%= link_to "sign out", logout_path, class: 'nav-link', method: :delete %>
          <% else %>
            <%= link_to 'sign in', signin_path, class: 'nav-link' %>
            <%= link_to 'sign up', signup_path, class: 'nav-link ml-3', id: 'sign-up-nav-link' %>
          <% end %>
        </nav>
      </div>
    </header>
    <div id='main-content'>
      <%= yield %>
    </div>
  </body>
  <script>
    var tx = document.getElementsByTagName('textarea');
    for (var i = 0; i < tx.length; i++) {
      tx[i].setAttribute('style', 'height:' + (tx[i].scrollHeight) + 'px;overflow-y:hidden;');
      tx[i].addEventListener("input", OnInput, false);
    }

    function OnInput() {
      this.style.height = 'auto';
      this.style.height = (this.scrollHeight) + 'px';
    }
  </script>
</html>
