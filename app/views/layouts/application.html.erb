<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Practice</title>
    <%= csrf_meta_tags %>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    <%= javascript_pack_tag 'application' %>
  </head>
  <body>
    <header class='p-3 bg-light text-dark d-none d-sm-block'>
      <div class='d-flex justify-content-between pt-1'>
        <h3 class='mt-1 font-weight-bold'><%= link_to 'Mindful Practice.', '/' %></h3>
        <nav class='nav'>
          <% if logged_in? %>
            <%= link_to 'books', '/', class: 'nav-link' %>
            <%= link_to 'settings', '#', class: 'nav-link' %>
            <%= link_to "sign out", logout_path, class: 'nav-link', method: :delete %>
          <% else %>
            <%= link_to 'sign in', signin_path, class: 'nav-link' %>
            <%= link_to 'sign up', signup_path, class: 'nav-link ml-3', id: 'sign-up-nav-link' %>
          <% end %>
        </nav>
      </div>
    </header>
    <header class='p-3 bg-light text-dark d-block d-sm-none mobile-header'>
      <div class='d-flex justify-content-between pt-1 align-items-center'>
        <h4 class='mt-1 font-weight-bold'><%= link_to 'Mindful Practice.', '/' %></h4>
        <nav class='pr-2 pl-3 mobile-nav-arrow'>
          &#9660;
        </nav>
      </div>
      <div class='mobile-nav d-none'>
        <% if logged_in? %>
          <%= link_to 'books', '/', class: 'nav-link' %>
          <%= link_to 'settings', '#', class: 'nav-link' %>
          <%= link_to "sign out", logout_path, class: 'nav-link', method: :delete %>
        <% else %>
          <%= link_to 'sign in', signin_path, class: 'nav-link' %>
          <%= link_to 'sign up', signup_path, class: 'nav-link' %>
        <% end %>
      </div>
    </header>
    <div id='main-content'>
      <%= yield %>
    </div>
  </body>
  <script>
    $(document).ready(function(){
      $(".mobile-nav-arrow").click(function(){
        $('.mobile-nav').toggleClass('d-none')
        $('.mobile-header').toggleClass('text-dark')
        $('.mobile-header').toggleClass('bg-dark')
        $('.mobile-header').toggleClass('text-light')
        $('.mobile-header').toggleClass('bg-light')
        if ($(this).text() === 'X') {
          $(this).text('â–¼');
        } else {
          $(this).text('X');
        }
      });
    });
  </script>
</html>
